---
---
/* icons */
.theme-btn-wrap .theme-btn{
  display:inline-block;width:18px;height:18px;
  background:url("/assets/images/moon.png") center/cover no-repeat;
  vertical-align:middle;transition:.3s;
}
.theme-btn-wrap input[type="checkbox"]{ display:none; }
.theme-btn-wrap input[type="checkbox"]:checked + .theme-btn{
  background-image:url("/assets/images/sun.png");
}
.theme-btn-wrap .theme-btn:hover{ transform:scale(1.2) rotate(180deg); transition:1s; }

/* color tokens (light) */
:root[color-theme="light"]{
  --background:#ffffff;
  --elev:#ffffff;
  --fg:#222;
  --muted:#777;
  --link:#0a66ff;
  --border:#e6e6e6;
}
/* color tokens (dark) */
:root[color-theme="dark"]{
  --background:#181818;
  --elev:#232323;
  --fg:#ffffff;
  --muted:#cccccc;
  --link:#8ab4ff;
  --border:#404040;
}

/* apply */
html,body{ background:var(--background); color:var(--fg); }
a{ color:var(--link); }
small,.post-meta,.muted{ color:var(--muted); }
hr,.page__footer,.page__content,.sidebar,.archive__item{ border-color:var(--border); }

/* header/nav surfaces */
.masthead, .greedy-nav, .greedy-nav .visible-links>li>a {
  background:var(--elev); color:var(--fg);
}

/* force footer color to follow theme */
.page__footer {
  background: var(--elev) !important;
  color: var(--fg) !important;
  border-top: 1px solid var(--border) !important;
}

/* 링크 hover */
a:hover, .page__content a:hover {
  color: #aecbfa !important;
  text-decoration: underline;
}

/* 제목 */
h1, h2, h3, h4, h5, h6 {
  color: var(--fg) !important;
  font-weight: 700;
}

/* 본문 가독성 */
.page__content p {
  color: var(--fg);
  line-height: 1.8;
  letter-spacing: 0.01em;
}

.page__meta, small, .muted {
  color: var(--muted);
}

/* site title */
.masthead .site-title,
.masthead .site-title a,
.greedy-nav .site-title,
.greedy-nav .site-title a {
  color: var(--fg) !important;
  text-decoration: none !important;
}

/* code & highlight */
:root[color-theme="dark"] code,
:root[color-theme="dark"] kbd,
:root[color-theme="dark"] tt {
  background:#2a2a2a !important;
  color:#ffeb99 !important;
  border-radius:4px;
  padding:2px 4px;
}

:root[color-theme="dark"] pre,
:root[color-theme="dark"] pre code {
  background:#1e1e1e !important;
  color:#e6e6e6 !important;
  border:1px solid #333 !important;
}

.highlight {
  background:#1e1e1e !important;
  color:#e6e6e6 !important;
}

table thead th {
  background:#2a2a2a !important;
  color:#fff !important;
}

/* global font stack */
:root {
  --ui-font: -apple-system, system-ui, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
}

html, body, *, button, input, select, textarea {
  font-family: var(--ui-font);
}

/******************************************
   RIGHT SIDEBAR TOC — FINAL CLEAN VERSION
******************************************/

/* 전체 컨테이너 */
.toc {
  backdrop-filter: blur(18px) saturate(180%);
  -webkit-backdrop-filter: blur(18px) saturate(180%);
  background: rgba(30, 30, 30, 0.45) !important;
  border-radius: 16px !important;
  border: 1px solid rgba(255,255,255,0.08) !important;
  padding: 16px 18px !important;
}

/* 제목 */
.toc .nav__title {
  background: transparent !important;
  color: var(--fg) !important;
  font-size: 0.9rem !important;
  margin-bottom: 10px !important;
}

/* 목록 */
.toc .toc__menu,
.toc .toc__menu ul {
  list-style: none !important;
  margin: 0;
  padding: 0;
  font-size: 0.75rem !important;
  line-height: 1.3 !important;
}

/* 링크 */
.toc .toc__menu a {
  color: var(--link) !important;
  text-decoration: none !important;
  display: block;
  padding: 3px 0 !important;
  opacity: 0.9;
  transition: 0.15s ease;
  font-weight: 500;
}

.toc .toc__menu a:hover {
  opacity: 1;
  transform: translateX(2px);
  color: #aecbfa !important;
}

/* 하위 섹션 */
.toc .toc__menu ul ul a {
  padding-left: 14px !important;
  font-size: 0.66rem !important;
  opacity: 0.85;
}

/* active fix */
.toc .toc__menu .active > a {
  background: transparent !important;
  color: var(--fg) !important;
  font-weight: 600 !important;
}
/* Fix dark mode title readability */
.page__title,
.page__title a,
.page__header h1,
.page__header h2,
.page__header h3 {
  color: var(--fg) !important;
  opacity: 1 !important;
}
/* Light mode TOC background (clean white card) */
:root[color-theme="light"] .toc {
  background: rgba(255, 255, 255, 0.8) !important;
  border: 1px solid #e6e6e6 !important;
}

/* Dark mode TOC background (Apple style) */
:root[color-theme="dark"] .toc {
  background: rgba(30,30,30,0.45) !important;
  border: 1px solid rgba(255,255,255,0.08) !important;
}
